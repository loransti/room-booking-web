<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title><%= title || 'Room Manager' %></title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.0/font/bootstrap-icons.css" rel="stylesheet">
  <style>
    :root {
      --bg: #f6f7f9;
      --card: #ffffff;
      --border: #e6e8ec;
      --text: #0a0a0a;
      --muted: #667085;
      --accent: #007aff; /* iOS blue */
      --radius: 14px;
      --shadow: 0 6px 20px rgba(0,0,0,0.06);
    }
    html, body { height: 100%; }
    body {
      background: var(--bg);
      color: var(--text);
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', Arial, sans-serif;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
    }

    .topbar {
      position: sticky;
      top: 0;
      z-index: 1020;
      backdrop-filter: saturate(180%) blur(10px);
      background: rgba(255,255,255,0.8);
      border-bottom: 1px solid var(--border);
    }
    .topbar .brand { font-weight: 600; letter-spacing: 0.2px; }
    .nav-link {
      color: var(--muted);
      padding: 10px 12px;
      border-radius: 10px;
    }
    .nav-link.active, .nav-link:hover { color: var(--accent); background: rgba(0,122,255,0.08); }

    .app { max-width: 1100px; margin: 0 auto; padding: 16px; }
    .card { background: var(--card); border: 1px solid var(--border); border-radius: var(--radius); box-shadow: var(--shadow); }
    .card.p-3, .card .card-body { padding: 18px !important; }
    h1, h2, h3, h4, h5 { letter-spacing: .2px; }
    .text-muted { color: var(--muted) !important; }

    /* Table tweaks for cleaner look */
    .table { --bs-table-bg: transparent; }
    .table thead th { color: var(--muted); font-weight: 600; border: 0; }
    .table tbody tr + tr { border-top: 1px solid var(--border); }
    .table td, .table th { vertical-align: middle; }

    /* Soften Bootstrap badges */
    .badge.bg-success { background-color: #e6f7ef !important; color: #127c41; }
    .badge.bg-primary { background-color: #e6f0ff !important; color: #2447c6; }
    .badge.bg-warning { background-color: #fff6e6 !important; color: #9a6b00; }
    .badge.bg-danger { background-color: #ffe9ea !important; color: #b42318; }
    .badge.bg-secondary { background-color: #eff1f4 !important; color: #444; }

    /* Mobile spacing */
    @media (max-width: 576px) {
      .app { padding: 12px; }
      .topbar .nav { overflow-x: auto; gap: 6px; }
      .topbar .nav::-webkit-scrollbar { display: none; }
    }

    /* Stack tables on small screens for readability */
    @media (max-width: 768px) {
      .table-responsive { overflow: visible; }
      .stack-table thead { display: none; }
      .stack-table tbody { display: block; }
      .stack-table tr { display: block; background: var(--card); border: 1px solid var(--border); border-radius: var(--radius); box-shadow: var(--shadow); margin-bottom: 12px; }
      .stack-table td { display: flex; justify-content: space-between; gap: 16px; border: 0 !important; padding: 10px 14px; }
      .stack-table td::before { content: attr(data-label); color: var(--muted); font-weight: 600; }
      .pagination { overflow-x: auto; white-space: nowrap; }
    }
  </style>
</head>
<body>
  <header class="topbar">
    <div class="app d-flex align-items-center justify-content-between">
      <div class="d-flex align-items-center gap-3">
        <span class="brand">Room Manager</span>
      </div>
      <nav class="nav">
        <a class="nav-link <%= path === '/' ? 'active' : '' %>" href="/"><i class="bi bi-speedometer2 me-1"></i> <span class="d-none d-sm-inline">Dashboard</span></a>
        <a class="nav-link <%= path.startsWith('/bookings') ? 'active' : '' %>" href="/bookings"><i class="bi bi-calendar-check me-1"></i> <span class="d-none d-sm-inline">Bookings</span></a>
        <a class="nav-link <%= path.startsWith('/calendar') ? 'active' : '' %>" href="/calendar"><i class="bi bi-calendar3 me-1"></i> <span class="d-none d-sm-inline">Calendar</span></a>
        <a class="nav-link <%= path.startsWith('/users') ? 'active' : '' %>" href="/users"><i class="bi bi-people me-1"></i> <span class="d-none d-sm-inline">Users</span></a>
        <a class="nav-link" href="/logout"><i class="bi bi-box-arrow-right me-1"></i> <span class="d-none d-sm-inline">Logout</span></a>
      </nav>
    </div>
  </header>

  <main class="app">
    <%- body %>
  </main>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
