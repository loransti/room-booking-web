<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title><%= ok ? 'Booking Confirmed' : 'Confirmation Error' %> · Room Manager</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
    :root { --bg:#f6f7f9; --card:#fff; --border:#e6e8ec; --text:#0a0a0a; --radius:14px; --shadow:0 6px 20px rgba(0,0,0,0.06); }
    body.dark { --bg:#0f1115; --card:#181a1f; --border:#2a2e35; --text:#e6e8ed; }
    body { background: var(--bg); color: var(--text); font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif; }
    .wrap { min-height: 100vh; display:grid; place-items:center; padding:20px; }
    .card { background: var(--card); border:1px solid var(--border); border-radius:var(--radius); box-shadow:var(--shadow); max-width:520px; width:100%; }
  </style>
  </head>
<body>
  <div class="wrap">
    <button class="btn btn-link position-absolute" style="top:12px; right:12px" id="themeToggle" title="Toggle dark mode"><i class="bi bi-moon"></i></button>
    <div class="card">
      <div class="card-body p-4 p-sm-5 text-center">
        <% if (ok) { %>
          <div class="display-6 mb-2">✅ Confirmed</div>
          <p class="lead"><%= message %></p>
          <% if (details) { %>
            <p class="mb-1"><strong><%= details.when %></strong></p>
            <p class="text-muted">Booking ID: <code><%= details.bookingId %></code></p>
          <% } %>
          <a class="btn btn-primary mt-3" href="/">Make another request</a>
        <% } else { %>
          <div class="display-6 mb-2">❌ Error</div>
          <p class="lead"><%= message %></p>
          <a class="btn btn-outline-secondary mt-3" href="/">Back to booking</a>
        <% } %>
      </div>
    </div>
  </div>
</body>
</html>
</div>
  <script>
    (function(){
      const prefersDark = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
      const saved = localStorage.getItem('rm-dark');
      const isDark = saved === 'true' || (saved === null && prefersDark);
      if (isDark) document.body.classList.add('dark');
      const btn = document.getElementById('themeToggle');
      if (btn) btn.addEventListener('click', function(){
        document.body.classList.toggle('dark');
        localStorage.setItem('rm-dark', document.body.classList.contains('dark'));
        this.querySelector('i').className = document.body.classList.contains('dark') ? 'bi bi-sun' : 'bi bi-moon';
      });
    })();
  </script>
